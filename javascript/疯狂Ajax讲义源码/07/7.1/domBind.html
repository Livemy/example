<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title> JavaScript校验表单 </title>
	<meta name="author" content="Yeeku.H.Lee" />
	<meta name="website" content="http://www.leegang.org" />
	<meta http-equiv="Content-Type" content="text/html; charset=GBK" />
</head>
<body>
<div align="center">
<h2>数据校验表单</h2>
<form method="post" name="register" action="http://www.leegang.org">
	用户名：<input type="text" name="user" /><br />
	密&nbsp;&nbsp;码：<input type="password" name="pass" /><br />
	电&nbsp;&nbsp;邮：<input type="text" name="email" /><br />
	<input type="submit" value="提交" />
</form>
</div>
<script type="text/javascript">
//使用正则表达式截取空格
function trim(s)
{
   	return s.replace( /^\s*/, "" ).replace( /\s*$/, "" );
}
//负责处理表单submit事件的
function check()
{
	//访问页面中第一个表单
	var form = document.forms[0];
	//错误字符串
	var errStr = "";
	//当用户名为空
	if (trim(form.user.value) == null || trim(form.user.value) == "")
	{
		errStr += "\n用户名不能为空!";
		form.user.focus();
	}
	//当密码为空
	if (trim(form.pass.value) == null || trim(form.pass.value) == "")
	{
		errStr += "\n密码不能为空!";
		form.pass.focus();
	}
	//当电子邮件为空
	if (trim(form.email.value) == null || trim(form.email.value) == "")
	{
		errStr += "\n电子邮件不能为空!";
		form.email.focus();
	}
	//使用正则表达式校验电子邮件的格式是否正确
	if(!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(trim(form.email.value)))
	{
		errStr += "\n电子邮件的格式不正确!";
		form.email.focus();
	}
	//如果错误字符串不为空，表明校验出错
	if( errStr != "" )
	{
		//弹出出错信息
		alert(errStr);
		//返回false，用于阻止表单提交
		return false;
	}
}
//为第一个表单的onsubmit绑定事件处理器
document.forms[0].onsubmit = check;
</script>
</body>
</html>
